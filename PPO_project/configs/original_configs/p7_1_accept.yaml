environment:
  # 走廊更宽，避免 corner_phase 内因越界过早终止，便于观测自由幅度/回中 ramp
  epsilon: 1.5
  interpolation_period: 0.1
  max_steps: 320
  lookahead_points: 5
kinematic_constraints:
  MAX_VEL: 1.0
  MAX_ACC: 2.0
  MAX_JERK: 3.0
  MAX_ANG_VEL: 0.9
  MAX_ANG_ACC: 1.8
  MAX_ANG_JERK: 3.6
reward_weights:
  corridor:
    enabled: true
    # corner_phase hysteresis（进入>退出）
    theta_enter_deg: 15.0
    theta_exit_deg: 8.0
    # 距离门控：限制 corner_phase 覆盖范围，避免“跨多个拐角一直不退出”
    dist_enter: 1.6
    dist_exit: 2.0
    # 出弯回中 ramp（严格线性；w_center = center_weight * clip(exit_timer/N)）
    exit_center_ramp_steps: 30
    # 走廊奖励结构：outside^2 + barrier + tanh 方向偏好 + ramp center
    outside_penalty_weight: 20.0
    barrier_weight: 2.0
    center_weight: 1.2
    center_power: 1.0
    dir_pref_weight: 0.6
    dir_pref_beta: 2.0
  p4:
    v_min: 0.35
    exit_speed_target_min: 0.90
    speed_cap_preview_points: 5
    speed_cap_use_wdot: true
    speed_cap_use_wddot: true
  p6_1:
    w_du: 0.01
    du_mode: l1
    v_target_mode: accel
    a_ref_max_ratio: 0.5
    j_ref_enabled: true
    j_ref_max_ratio: 0.5
path:
  # accept 脚本会自行构造 open_line/open_square，这里仅提供尺度/分辨率
  scale: 3.0
  num_points: 80
experiment:
  mode: train
  enable_kcm: true
