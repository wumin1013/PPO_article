environment:
  # 更宽的走廊，避免在 open_square 拐角附近因越界过早终止（便于观测 kappa/dkappa）
  epsilon: 1.5
  interpolation_period: 0.1
  max_steps: 420
  lookahead_points: 5
kinematic_constraints:
  MAX_VEL: 1.0
  MAX_ACC: 2.0
  MAX_JERK: 3.0
  MAX_ANG_VEL: 0.9
  MAX_ANG_ACC: 1.8
  MAX_ANG_JERK: 3.6
reward_weights:
  corridor:
    enabled: false
  p4:
    v_min: 0.35
    exit_speed_target_min: 0.90
    speed_cap_preview_points: 5
    speed_cap_use_wdot: true
    speed_cap_use_wddot: true
  p6_1:
    w_du: 0.01
    du_mode: l1
    v_target_mode: accel
    a_ref_max_ratio: 0.5
    j_ref_enabled: true
    j_ref_max_ratio: 0.5
  p7_3:
    # kappa 平滑：对 kappa=|omega|/(v+eps) 做一阶滤波以抑制 dkappa 尖峰
    kappa_smoothing_enabled: true
    kappa_smoothing_beta: 0.35
    # 每步 kappa 变化限幅（单位：1/m），用于消除 dkappa 尖峰
    kappa_dkappa_limit: 0.10
    # stall 与 cap 联动阈值：cap 很低时 stall 不以低速判定
    stall_cap_low: 0.25
    trace_ring_size: 250
path:
  # accept 脚本会自行构造 open_line/open_square，这里仅提供尺度/分辨率
  scale: 3.0
  num_points: 80
experiment:
  mode: train
  enable_kcm: true
