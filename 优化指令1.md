# 优化指令 01：基础设施与非阻塞日志系统

## 背景
我们需要实现训练与可视化的彻底剥离。训练进程负责产生数据，可视化界面负责实时读取。为了保证“实时看到训练情况”，我们需要一个高效的 CSV 日志系统。

## 任务
重构 `src/utils/logger.py` 和 `main.py` 的初始化逻辑。

## 执行要求
1.  **标准化实验目录:**
    * 创建 `ExperimentManager` 类。
    * 启动时自动创建结构：`saved_models/{Experiment_Category}/{Timestamp}/`。
    * **配置固化:** 启动时立即保存 `config.yaml` 副本到该目录，保证实验可复现。

2.  **原子化 CSV 日志 (Atomic CSV Logger):**
    * 在 `logger.py` 中实现 `CSVLogger`。
    * **关键机制:** 每次写入 (`log_step`) 必须遵循 `open(..., 'a')` -> `write` -> `flush` -> `close` 的完整闭环。
    * *原因:* 杜绝文件句柄占用，允许 Streamlit 或 Excel 随时读取最新数据而不会导致训练进程崩溃。
    * **字段:** `step, reward, actor_loss, critic_loss, wall_time`。

## 自验证
编写测试脚本 `test_logger.py`：
1. 模拟一个循环快速写入日志（每 0.01 秒）。
2. 同时用 Pandas 在另一个循环中高频读取该文件。
3. **断言:** 读取操作不应报错，且能读到最新的行。